
create schema TP3_vol;
set search_path=TP3_vol;

create table AVION
(   NUMAVION                        DECIMAL(6)  not null,
    NOMAVION                        VARCHAR(20) ,
    CAPACITE                        DECIMAL(3),
    LOCALISATION                    VARCHAR(20) ,
    constraint pk_avion primary key (NUMAVION)
);

create table PILOTE
(   NUMPILOTE                       DECIMAL(4)  not null,
    NOMPILOTE                       VARCHAR(20) ,
    ADRESSE                         VARCHAR(20),
    constraint pk_pilote primary key (NUMPILOTE)
);

create table VOL
(   NUMVOL                          VARCHAR(6)  not null ,
    NUMPILOTE                       DECIMAL(4),
    NUMAVION                        DECIMAL(6),
    VILLEDEP                        VARCHAR(20) ,
    VILLEARR                        VARCHAR(20) ,
    HEUREDEP                        TIME ,
    HEUREARR                        TIME ,
	PRIX 							DECIMAL(7,2),
    constraint pk_vol primary key (NUMVOL)
);

alter table VOL
    add constraint fk1_vol foreign key (NUMAVION)
       references AVION (NUMAVION);
alter table VOL
    add constraint fk2_vol foreign key (NUMPILOTE)
       references PILOTE (NUMPILOTE);


-- insertion des avions
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(1, 'Airbus A300', 200, 'Paris');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(2, 'Airbus A300', 200, 'Paris');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(3, 'Airbus A310', 250, 'Paris');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(4, 'Airbus A320', 300, 'Paris');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(5, 'Airbus A330', 380, 'Paris');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(6, 'Airbus A340', 450, 'Paris');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(7, 'Airbus A320', 300, 'Mulhouse');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(8, 'Caravelle', 180, 'Strasbourg');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(9, 'Caravelle', 180, 'Nice');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(10, 'Concorde', 140, 'Paris');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(11, 'Concorde', 140, 'Londres');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(12, 'Concorde', 140, 'Paris');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(13, 'Boeing 707', 320, 'Luxembourg');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(14, 'Boeing 707', 320, 'Nice');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(15, 'Boeing 717', 360, 'Paris');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(16, 'Boeing 717', 360, 'Montréal');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(17, 'Boeing 747', 460, 'Montréal');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(18, 'Boeing 747', 460, 'Luxembourg');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(19, 'Boeing 747', 460, 'Mulhouse');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(20, 'Boeing 777', 460, 'Luxembourg');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(21, 'DC 9', 140, 'Mulhouse');
INSERT INTO avion (NUMAVION, NOMAVION, CAPACITE, LOCALISATION) VALUES(22, 'Concorde', 140, 'Londres');



-- insertion des pilotes
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(1, 'Ader Clément', 'Paris');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(2, 'Chanute', 'Nice');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(3, 'Lilienthal', 'Mulhouse');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(4, 'Blériot Louis', 'Paris');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(5, 'Lindbergh Charles', 'New-York');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(6, 'Mermoz Jean', 'Paris');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(7, 'Fabre', 'Paris');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(8, 'Farman Henri', 'Londres ');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(9, 'Wright', 'Londres');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(10, 'Garros Roland', 'Nice');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(11, 'Santos Dumont', 'Rio-de-Janeiro');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(12, 'Voisin Charles', 'Luxembourg');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(13, 'Saint Exupéry', 'Marseille');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(14, 'Boucher Hélène', 'Paris');
INSERT INTO pilote (NUMPILOTE, NOMPILOTE, ADRESSE) VALUES(15, 'Montgolfier', 'Paris');


-- insertion des vols

INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AF0001', 1, 1, 'Paris', 'Johannesbourg', '06:00:00', '13:31:00', 1890.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AG0002', 1, 2, 'Paris', 'Alger', '06:45:00', '08:45:00', 340.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AG0003', 1, 3, 'Marseille', 'Alger', '09:20:00', '10:35:00', 253.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AG0004', 1, 4, 'Nice', 'Alger', '16:10:00', '17:45:00', 342.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('GB0005', 1, 5, 'Paris', 'Londres', '12:15:00', '13:55:00', 156.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('GB0006', 1, 6, 'Lyon', 'Londres', '10:15:00', '11:55:00', 143.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('GB0007', 1, 7, 'Strasbourg', 'Londres', '07:40:00', '09:00:00', 130.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('GB0008', 1, 8, 'Mulhouse', 'Londres', '06:20:00', '07:50:00', 130.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AN0009', 1, 9, 'Paris', 'Fort-de-France', '14:25:00', '18:55:00', 900.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AN0010', 1, 10, 'Paris', 'Pointe-a-Pitre', '11:10:00', '15:55:00', 850.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AN0011', 1, 11, 'Paris', 'Saint-Martin', '12:05:00', '17:25:00', 750.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AR0012', 1, 12, 'Paris', 'Buenos-Aires', '15:10:00', '22:15:00', 1230.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AU0013', 1, 13, 'Paris', 'Sydney', '04:00:00', '12:30:00', 1800.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AU0014', 1, 14, 'Paris', 'Melbourne', '12:00:00', '20:40:00', 1900.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('AU0015', 1, 15, 'Paris', 'Perth', '08:40:00', '18:00:00', 1900.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('BE0016', 1, 16, 'Paris', 'Cotonou', '05:10:00', '10:00:00', 670.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('BE0017', 1, 17, 'Luxembourg', 'Cotonou', '09:30:00', '12:15:00', 670.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('BE0018', 1, 18, 'Bordeaux', 'Cotonou', '18:00:00', '23:45:00', 670.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('BRE019', 1, 19, 'Paris', 'Rio-de-Janeiro', '07:25:00', '14:10:00', 1100.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('BRE020', 1, 20, 'Paris', 'Sao-Paulo', '13:20:00', '19:20:00', 1100.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('BRE021', 2, 1, 'Strasbourg', 'Rio-de-Janeiro', '06:30:00', '14:45:00', 1100.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('BU0022', 2, 4, 'Paris', 'Varna', '13:15:00', '15:45:00', 850.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CA0023', 3, 8, 'Paris', 'Douala', '07:50:00', '12:30:00', 650.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CA0024', 4, 12, 'Lyon', 'Douala', '12:30:00', '18:00:00', 650.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('QUE025', 5, 16, 'Paris', 'Montréal', '09:00:00', '13:30:00', 550.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('QUE026', 6, 20, 'Brest', 'Montréal', '13:30:00', '19:00:00', 550.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('QUE027', 7, 2, 'Nice', 'Montréal', '10:20:00', '15:15:00', 550.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CAN028', 8, 3, 'Paris', 'Toronto', '00:30:00', '06:00:00', 650.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CAN029', 9, 5, 'Paris', 'Vancouver', '04:45:00', '09:15:00', 670.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CAN030', 10, 9, 'Paris', 'Calgary', '16:25:00', '21:04:00', 890.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CAN031', 11, 13, 'Mulhouse', 'Montréal', '09:10:00', '13:35:00', 879.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CHI032', 12, 17, 'Paris', 'Pékin', '12:00:00', '18:30:00', 2000.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CHI033', 13, 6, 'Paris', 'Shanghai', '09:00:00', '15:00:00', 1670.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CHY034', 14, 10, 'Paris', 'Larnaca', '18:20:00', '21:00:00', 687.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('COT035', 8, 14, 'Paris', 'Abidjan', '15:00:00', '19:00:00', 780.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CRE036', 9, 18, 'Paris', 'Heraklion', '07:30:00', '09:00:00', 342.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CRE037', 10, 7, 'Mulhouse', 'Heraklion', '16:31:00', '18:00:00', 356.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CUB038', 11, 11, 'Paris', 'La Havane', '04:00:00', '09:00:00', 980.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('CUB039', 12, 15, 'Fort-de-France', 'La Havane', '19:10:00', '20:20:00', 976.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('ECO040', 3, 19, 'Paris', 'Edimbourg', '15:00:00', '17:10:00', 540.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('EGY041', 4, 1, 'Paris', 'Le Caire', '11:00:00', '14:20:00', 780.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('EGY042', 5, 2, 'Paris', 'Louxor', '09:45:00', '12:40:00', 790.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('EQU043', 6, 3, 'Paris', 'Quito', '12:30:00', '20:00:00', 1340.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('ESP044', 7, 4, 'Paris', 'Malaga', '05:00:00', '06:20:00', 564.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('ESP045', 8, 5, 'Nice', 'Malaga', '18:00:00', '19:00:00', 786.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('ESP046', 9, 6, 'Marseille', 'Malaga', '10:00:00', '11:00:00', 653.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('ESP047', 10, 7, 'Paris', 'Palma de Majorque', '06:30:00', '08:45:00', 670.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('ESP048', 11, 8, 'Mulhouse', 'Palma de Majorque', '12:25:00', '14:55:00', 650.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('ESP049', 12, 9, 'Strasbourg', 'Palma de Majorque', '15:00:00', '17:00:00', 640.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('ESP050', 8, 10, 'Paris', 'Ibiza', '11:00:00', '13:00:00', 786.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('USA050', 9, 11, 'Paris', 'New-York', '06:00:00', '10:00:00', 800.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('IRL051', 10, 12, 'Paris', 'Dublin', '08:00:00', '10:00:00', 650.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('GB0052', 8, 5, 'Paris', 'Londres', '14:00:00', '15:00:00', 670.00);
INSERT INTO vol (NUMVOL, NUMPILOTE, NUMAVION, VILLEDEP, VILLEARR, HEUREDEP, HEUREARR, PRIX) VALUES('GB0053', 4, 5, 'Londres', 'Mulhouse', '08:00:00', '10:10:00', 759.00);
